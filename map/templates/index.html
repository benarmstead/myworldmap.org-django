<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=5.0">
  <meta name="description" content="Interactive map of locations which I have travelled to">

  <title>Countries I have been to</title>
  {% csrf_token %}
  {% load static %}
  <link rel="stylesheet" href="{% static '/circle.css' %}" />
  <link rel="stylesheet" href="{% static '/mapStyle.css' %}" />
  <link rel="stylesheet" href="{% static '/depends/leaflet.css' %}" />
  <script type="text/javascript">
    let COUNTRIES = {{ data| safe }};
    if (COUNTRIES.includes === undefined) {
      COUNTRIES = COUNTRIES.data;
    }
    console.log(COUNTRIES)
    /*console.log(COUNTRIES)
    console.log(COUNTRIES)
    if (COUNTRIES === undefined) {
      COUNTRIES = { data: [] }
    }
    console.log(COUNTRIES)
    */
  </script>
</head>

<body>
  <div id="map"></div>

  <div class="statsCard">
    <div style="flex-direction: row;display: flex;flex-flow: wrap;">

      <div class="individualStat">
        <p>World</p>
        <div class="world"></div>
      </div>
      <div class="individualStat collapsible">
        <p>Europe</p>
        <div class="europe"></div>
      </div>
      <div class="individualStat collapsible">
        <p>Asia</p>
        <div class="asia"></div>
      </div>
      <div class="individualStat collapsible">
        <p>North America</p>
        <div class="northAmerica"></div>
      </div>
      <div class="individualStat collapsible">
        <p>South America</p>
        <div class="southAmerica"></div>
      </div>
      <div class="individualStat collapsible">
        <p>Africa</p>
        <div class="africa"></div>
      </div>
      <div class="individualStat collapsible">
        <p>Oceania</p>
        <div class="oceania" id="oceania"></div>
      </div>
    </div>

    <button type="button" onclick="hideOthers()">Toggle Stats</button>
  </div>

  <!--<script type="text/javascript" src="{% static '/depends/leaflet.js' %}"></script>-->
  <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
    integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
    crossorigin=""></script>
  <script type="text/javascript" src="{% static '/depends/circle.js' %}"></script>
  <script type="text/javascript" src="{% static '/countries.js' %}"></script>
  <script type="text/javascript" src="{% static '/custom.geo.js' %}"></script>
  <script type="text/javascript" src="{% static '/drawMap.js' %}"></script>
  <script type="text/javascript" src="{% static '/stats.js' %}"></script>

</body>

</html>